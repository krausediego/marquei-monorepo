info:
  name: Refresh the access token using a refresh token
  type: http
  seq: 24
  tags:
    - Better Auth

http:
  method: POST
  url: "{{baseUrl}}/api/v1/auth/refresh-token"
  body:
    type: json
    data: |-
      {
        "providerId": "",
        "accountId": "",
        "userId": ""
      }
  auth:
    type: bearer
    token: "{{token}}"

settings:
  encodeUrl: true
  timeout: 0
  followRedirects: true
  maxRedirects: 5

examples:
  - name: 200 Response
    description: Access token refreshed successfully
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 200
      statusText: OK
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
            "tokenType": "",
            "idToken": "",
            "accessToken": "",
            "refreshToken": "",
            "accessTokenExpiresAt": "",
            "refreshTokenExpiresAt": ""
          }
  - name: 400 Response
    description: Invalid refresh token or provider configuration
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 400
      statusText: Bad Request
      body:
        type: text
        data: ""
  - name: 401 Response
    description: Unauthorized. Due to missing or invalid authentication.
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 401
      statusText: Unauthorized
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
            "message": ""
          }
  - name: 403 Response
    description: Forbidden. You do not have permission to access this resource or to perform this action.
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 403
      statusText: Forbidden
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
            "message": ""
          }
  - name: 404 Response
    description: Not Found. The requested resource was not found.
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 404
      statusText: Not Found
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
            "message": ""
          }
  - name: 429 Response
    description: Too Many Requests. You have exceeded the rate limit. Try again later.
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 429
      statusText: Too Many Requests
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
            "message": ""
          }
  - name: 500 Response
    description: Internal Server Error. This is a problem with the server that you cannot fix.
    request:
      url: "{{baseUrl}}/api/v1/auth/refresh-token"
      method: POST
      body:
        type: json
        data: |-
          {
            "providerId": "",
            "accountId": "",
            "userId": ""
          }
    response:
      status: 500
      statusText: Internal Server Error
      headers:
        - name: Content-Type
          value: application/json
      body:
        type: json
        data: |-
          {
            "message": ""
          }
